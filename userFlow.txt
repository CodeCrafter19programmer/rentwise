1. SYSTEM ROLES (fixed, non-negotiable)

Role                   How they enter system         Power level
Owner / Admin          Created at system setup       Full control
Manager / Staff        Invited by Admin              Operational
Tenant                 Invited & linked to a unit    Limited








No public signup. One auth system. Roles enforced server-side.

â¸»

2. FRONTEND â€” WHAT USERS SEE

A. Shared Pages (ALL USERS)

1ï¸âƒ£ Landing Page (optional)
	â€¢	Product info
	â€¢	â€œLoginâ€ button
	â€¢	No â€œRegisterâ€ button

â¸»

2ï¸âƒ£ Login Page

Same page for everyone

Fields
	â€¢	Email
	â€¢	Password

Action
POST /auth/login

No role logic here. Just authentication.

â¸»

3ï¸âƒ£ Registration Page (Invite-only)

User arrives via link:
/register?token=XYZ

Fields
	â€¢	Name
	â€¢	Password
	â€¢	Confirm password

Hidden logic
	â€¢	Token already maps to role + property/unit

User does NOT choose anything.

â¸»

B. Role-Specific Dashboards (after login)

â¸»

ğŸ§‘â€ğŸ’¼ Admin / Owner Dashboard

Main sections
	â€¢	Properties
	â€¢	Units
	â€¢	Tenants
	â€¢	Staff
	â€¢	Payments
	â€¢	Reports
	â€¢	Settings

Key actions
	â€¢	Create property
	â€¢	Create units
	â€¢	Invite managers
	â€¢	Invite tenants
	â€¢	View all payments
	â€¢	Export reports

â¸»

ğŸ§‘â€ğŸ”§ Manager / Staff Dashboard

Restricted version of Admin
	â€¢	View assigned properties
	â€¢	Handle maintenance
	â€¢	View tenant payments (read-only)
	â€¢	Message tenants

Cannot:
	â€¢	Delete properties
	â€¢	Change system settings

â¸»

ğŸ§‘â€ğŸ¦± Tenant Dashboard

Very minimal
	â€¢	My Unit
	â€¢	Rent Status
	â€¢	Payment History
	â€¢	Maintenance Requests
	â€¢	Messages

Cannot see:
	â€¢	Other tenants
	â€¢	Other units
	â€¢	Property finances

â¸»

3. BACKEND â€” CORE SERVICES

A. Authentication Service

Login
POST /auth/login

Flow
Verify credentials
â†“
Create session / JWT
â†“
Attach user_id + role

Register (Invite-only)
POST /auth/register

Backend logic

Validate invite token
â†“
Extract role + property_id + unit_id
â†“
Create user
â†“
Mark invite as used

B. Invitation Service (critical)

Invite Tenant

POST /invites

Payload{
  "email": "tenant@mail.com",
  "role": "tenant",
  "unit_id": 12
}

Backend
	â€¢	Generates token
	â€¢	Stores role + unit
	â€¢	Sends email/SMS

C. Property & Unit Service

Admin â†’ Property â†’ Units â†’ Tenants

Strict hierarchy.


D. Payments Service
	â€¢	Records rent payments
	â€¢	Tracks due dates
	â€¢	Flags late rent
	â€¢	Optional mobile money / card integration

Tenants can only see their own records.

â¸»

E. Maintenance Service

Tenants submit requests â†’ Staff/Admin manage them.

â¸»

4. DATABASE â€” STRUCTURE (CORE TABLES)

users
- id
- name
- email
- password
- role (admin | staff | tenant)

properties
- id
- name
- owner_id

units
- id
- property_id
- unit_number
- rent_amount

tenancies
- id
- user_id
- unit_id
- start_date
- status

invites
- id
- email
- role
- unit_id
- token
- used

payments
- id
- tenancy_id
- amount
- status
- paid_at

This structure enforces real-world rental logic.

5. DATA FLOW (MENTAL IMAGE)

Tenant onboarding

Admin creates unit
â†“
Admin invites tenant
â†“
Tenant clicks link
â†“
Tenant registers
â†“
Tenant logs in
â†“
Tenant sees only their unit

Login flow (all users)

User submits login
â†“
Backend authenticates
â†“
Session contains role
â†“
Frontend routes user

Authorization (important)
Request â†’ Middleware
â†“
Check role
â†“
Allow / deny

Frontend routing is cosmetic.
Backend authorization is law.


6. WHY THIS DESIGN WINS

âœ… Secure
âœ… Matches real rental business
âœ… Prevents role abuse
âœ… Easy to scale to SaaS
âœ… Easy to audit
âœ… Easy to explain to investors & clients

7. COMMON MISTAKES TO AVOID

âŒ Public tenant signup
âŒ Role dropdown
âŒ Frontend-only protection
âŒ One dashboard for all roles
âŒ Letting tenants create accounts first

FINAL SUMMARY (KEEP THIS)

One auth system.
Invite-based registration.
Backend-enforced roles.
Separate dashboards.
Strict data boundaries.